<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Welcome || Register</title>
	<link rel="stylesheet" href="css/register.css">
	<link rel="stylesheet" href="css/base.css">
	<link rel="stylesheet" href="css/style.css" />
	<style type="text/css"></style>
 </head>
 <body>
		<div id="header">
  	<!--网页头部-->
		<div class="bg">
			<div class="top clear">
				<div class="top_left">
					Hello, welcome to WEDDING PLANNER!
					<a href="login.html" target="_black">[login]</a>
					<a href="register.html" target="_black">[registration]</a>
				</div>
				<div class="top_right">
					<a href="#">My membership center</a><b>|</b>
					<a href="#">favorites</a><b>|</b>
					<a href="#">service centers</a><b>|</b>
					<a href="#">online customer service</a><b>|</b>
					<a href="#">shopping cart<span>0</span>pieces</a>
				</div>
			</div>
		</div>
	<!--网页导航-->
		<div id="nav">
			<div class="logo">
				<a href="index.html"><img src="img/logo.png" alt="" /></a>
			</div>
			<div class="list">
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="about.html">About</a></li>
					<li>
						<a href="services.html">Services</a>
						<div>
							<a href="singie.html">Singie Services</a>
						</div>
					</li>
					<li>
						<a href="blog.html">Blog</a>
						<div>
							<a href="">Blog Details</a>
						</div>
					</li>
					<li>
						<a href="#">Pages</a>
						<div>
							<a href="team.html">Team</a>
							<a href="">Single Team</a>
							<a href="">Portfolio 1</a>
							<a href="">Portfolio 2</a>
							<a href="">Portfolio 3</a>
							<a href="">Portfolio 4</a>
							<a href="shop.html">Shop</a>
							<a href="">Single Product</a>
							<a href="">404 Page</a>
						</div>
					</li>
					<li><a href="contact.html">Contact</a></li>
				</ul>
			</div>
			<div class="shopping">
				<input type="text" placeholder="Search..." />
				<a href="#"><img src="img/search.png" alt="" /></a>
				<b>|</b>
				<a href="#"><img src="img/shopping.png" alt="" /></a>
			</div>
		</div>

		<div id="base_bg">
			<div class="base">
			<h1>Welcome to registration</h1>
				<ul>
					<li>
						<a href="index.html">Home</a>
						<span>>></span>
					</li>
					<li>register</li>
				</ul>
			</div>
		</div>
	</div>
 
	<!--注册-->
	<div id="register_body">
		<div class="register_title">
			<h3>Register Now</h3>
		</div>
		<div class="register_page">
			<div class="page_left">
				<form action="" method="">
					<div class="profile">
						<strong>Profile For</strong>
						<select name="" id="">
							<option value="null">Select</option>
							<option value="null">Myself</option>
							<option value="null">Son</option>
							<option value="null">Daughter</option>
							<option value="null">Brother</option>
							<option value="null">Sister</option>
							<option value="null">Relative</option>
							<option value="null">Friend</option>
						</select>
					</div>
					<div class="name">
						<strong>Name</strong>
						<input class="input" type="text" name="password" placeholder="Name" id="uname" onblur="checkUname()" onfocus="checkUname_focus()">
						<span id="showuname"></span>
					</div>
					<div class="gender">
						<strong>Gender</strong>
						<div id="gender">
							<label class="radio">
								<input type="radio" name="radio" checked />Male
							</label>
							<label class="radio">
								<input type="radio" name="radio" />Female
							</label>
						</div>
					</div>
					<div class="date">
						<strong>Date Of Birth</strong>
						<input class="input" type="text" name="date" placeholder="mm/dd/yyyy" >
					</div>
					<div class="religion">
						<strong>religion</strong>
						<select>
							<option value="null">Hindu</option>
							<option value="null">Muslim</option>
							<option value="null">Christian</option>
							<option value="null">Sikh</option>
							<option value="null">Jain</option>
							<option value="null">Buddhist</option>
							<option value="null">No Religious Belief</option>
						</select>
					</div>
					<div class="Country">
						<strong>Country</strong>
						<input class="input" type="text" name="Country" placeholder="Country"  id="country" onblur="checkCountry()" onfocus="checkCountry_focus()">
						<span id="showcountry"></span>
					</div>
					<div class="email">
						<strong>Email</strong>
						<input class="input" type="email" name="Email" placeholder="Email" id="email" onblur="checkEmail()" onfocus="checkEmail_focus()" >
						<span id="showemail"></span>
					</div>
					<div class="password">
						<strong>Password</strong>
						<input class="input" type="password" name="Password" placeholder="Password" id="upwd" onblur="checkUpwd()" onfocus="checkUpwd_focus()">
						<span id="showupwd"></span>
					</div>
					<div class="btn">
						<input type="button" value="SIGN IN" onclick="register()">
					</div>
				</form>
				<h4>Continue With</h4>
				<div class="continue">
					<a href="#" class="facebook">
						<div class="left">
							<img src="img/facebook.png" alt="">
							<p>Facebook</p>
						</div>
						<h5>5 Likes</h5>
					</a>
					<a href="#" class="twitter">
						<div class="right">
							<img src="img/twitter.png" alt="">
							<p>Twitter</p>
						</div>
						<h5>8 Tweets</h5>
					</a>
				</div>
			</div>

			<div class="page_right">
				<div class="page_t">
					<h3>Why Join Elite Match</h3>
					<p>Lorem ipsum dolor sit amet, </p>
					<p>consectetur adipiscing elit.</p>
					<ul>
						<li>Lorem Ipsum</li>
						<li>Vivamus Lacus</li>
						<li>Quisquam Est</li>
						<li>Pellentesque</li>
					</ul>
					<h5>Don't have an account?<img src="img/shouzhi.png" alt=""></h5>
					<div class="reg">
						<a href="register.html">Register</a>
					</div>
				</div>
				<div class="page_b">
					<h3>Easy steps to find your life partner</h3>
					<ul>
						<li><img src="img/page_li_bg.png" alt="" />Vivamus lacus nisl, suscipit in vehicula sit amet, sollicitudin eget eros.</li>
						<li><img src="img/page_li_bg.png" alt="" />Neque porro quisquam est qui dolorem ipsum quia dolor sit amet.</li>
						<li><img src="img/page_li_bg.png" alt="" />Vivamus lacus nisl, suscipit in vehicula sit amet, sollicitudin eget eros.</li>
					</ul>
				</div>
			</div>
		</div>
	</div>

	<div id="footer">
		<div class="content">
			<div class="left">
				<img src="img/footer/phone.png" alt="" />
				<span>15268834354</span>
			</div>
			<div class="center">
				<a href="#"><img src="img/footer/footer-logo.png" alt="" /></a>
			</div>
			<div class="right">
				<img src="img/footer/email.png" alt="" />
				<span>weddingrevel@gmail.com</span>
			</div>
		</div>
	</div>
	<script src="js/register.js"></script>
	<script>
		var isRegister = false; //全局变量，控制注册按钮
		function checkUname_focus(){
			$("showuname").innerHTML="Please enter a 6~12 user name";
		}
		//失去焦点
		function checkUname(){
			var xhr = createXhr();
			xhr.onreadystatechange = function(){
				if(xhr.readyState == 4 && xhr.status == 200){
					var res = xhr.responseText;
					//console.log(res);
					if(res==1){
						$("showuname").innerHTML="User name already exists";
						isRegister = false;
					}else{
						$("showuname").innerHTML="User name available";
						isRegister = true;
					}
				}
			}
			var uname = $('uname').value;
			xhr.open("get","register/checkUname?uname="+uname,true);
			xhr.send(null);
		}
		
		//邮箱确认
		function checkEmail_focus(){
			$("showemail").innerHTML="Please enter a valid email address";
		}
		function checkEmail(){
			var xhr = createXhr();
			xhr.onreadystatechange = function(){
				if(xhr.readyState == 4 && xhr.status == 200){
					var res = xhr.responseText;
					//console.log(res);
					$("showemail").innerHTML = res;
				}
			}
			var email = $('email').value;
			xhr.open("get","register/checkEmail?email="+email,true);
			xhr.send(null);
		}

		//密码
		function checkUpwd_focus(){
			$("showupwd").innerHTML="Please enter the 6~18 bit password";
		}
		function checkUpwd(){
			var xhr = createXhr();
			xhr.onreadystatechange = function(){
				if(xhr.readyState == 4 && xhr.status == 200){
					var res = xhr.responseText;
					//console.log(res);
					$("showupwd").innerHTML=res;
				}
			}
			var upwd = $('upwd').value;
			xhr.open("get","register/checkUpwd?upwd="+upwd,true);
			xhr.send(null);
		}

		//地点
		function checkCountry_focus(){
			$("showcountry").innerHTML="Please enter the name of your country";
		}
		function checkCountry(){
			var xhr = createXhr();
			xhr.onreadystatechange = function(){
				if(xhr.readyState == 4 && xhr.status == 200){
					var res = xhr.responseText;
					//console.log(res);
					$("showcountry").innerHTML=res;
				}
			}
			var country = $('country').value;
			xhr.open("get","register/checkCountry?country="+country,true);
			xhr.send(null);
		}

		function register(){
			if(isRegister==true){
				var xhr = createXhr();
				xhr.onreadystatechange = function(){
					if(xhr.readyState == 4 && xhr.status == 200){
						var res = xhr.responseText;
						alert(res);
					}
				}
				xhr.open("post","/register",true);
				xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
				var uname = $("uname").value;
				var country = $("country").value;
				var email = $("email").value;
				var upwd = $("upwd").value;
				var url = "&uname="+uname+"&country="+country+"&email="+email+"&upwd="+upwd;
				xhr.send(url);
					
			}else{
				alert("Place check registration information");
			}
		}
	</script>
 </body>
</html>
